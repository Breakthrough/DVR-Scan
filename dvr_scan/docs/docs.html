<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Brandon Castellano"><link rel=prev href=guide.html><link rel=next href=faq.html><link rel=icon href=https://www.dvr-scan.com/assets/dvr-scan.ico><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.5.49"><title>Documentation - DVR-Scan</title><link rel=stylesheet href=assets/stylesheets/main.6f8fc17f.min.css><link rel=stylesheet href=assets/stylesheets/palette.06af60db.min.css><style>:root{--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 7 9 19l-5.5-5.5 1.41-1.41L9 16.17 19.59 5.59z"/></svg>');}</style><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Rubik:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Rubik";--md-code-font:"JetBrains Mono"}</style><link rel=stylesheet href=style.min.css><script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#documentation class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=. title=DVR-Scan class="md-header__button md-logo" aria-label=DVR-Scan data-md-component=logo> <img src=https://www.dvr-scan.com/assets/dvr-scan.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> DVR-Scan </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Documentation </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <div class=md-header__source> <a href=https://github.com/Breakthrough/DVR-Scan title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> DVR-Scan on Github </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=guide.html class=md-tabs__link> User Guide </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=docs.html class=md-tabs__link> Documentation </a> </li> <li class=md-tabs__item> <a href=faq.html class=md-tabs__link> FAQ </a> </li> <li class=md-tabs__item> <a href=changelog.html class=md-tabs__link> Changelog </a> </li> <li class=md-tabs__item> <a href=resources.html class=md-tabs__link> Resources </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=. title=DVR-Scan class="md-nav__button md-logo" aria-label=DVR-Scan data-md-component=logo> <img src=https://www.dvr-scan.com/assets/dvr-scan.png alt=logo> </a> DVR-Scan </label> <div class=md-nav__source> <a href=https://github.com/Breakthrough/DVR-Scan title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> DVR-Scan on Github </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=guide.html class=md-nav__link> <span class=md-ellipsis> User Guide </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Documentation </span> <span class="md-nav__icon md-icon"></span> </label> <a href=docs.html class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Documentation </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#running-dvr-scan class=md-nav__link> <span class=md-ellipsis> Running DVR-Scan </span> </a> <nav class=md-nav aria-label="Running DVR-Scan"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#multiple-videos class=md-nav__link> <span class=md-ellipsis> Multiple Videos </span> </a> </li> <li class=md-nav__item> <a href=#output-format class=md-nav__link> <span class=md-ellipsis> Output Format </span> </a> </li> <li class=md-nav__item> <a href=#vfr-variable-framerate class=md-nav__link> <span class=md-ellipsis> VFR (Variable Framerate) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#dvr-scan-options class=md-nav__link> <span class=md-ellipsis> dvr-scan Options </span> </a> <nav class=md-nav aria-label="dvr-scan Options"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=#input class=md-nav__link> <span class=md-ellipsis> Input </span> </a> <nav class=md-nav aria-label=Input> <ul class=md-nav__list> <li class=md-nav__item> <a href=#regions class=md-nav__link> <span class=md-ellipsis> Regions </span> </a> </li> <li class=md-nav__item> <a href=#seekingduration class=md-nav__link> <span class=md-ellipsis> Seeking/Duration </span> </a> </li> <li class=md-nav__item> <a href=#frame-processing class=md-nav__link> <span class=md-ellipsis> Frame Processing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#motion class=md-nav__link> <span class=md-ellipsis> Motion </span> </a> <nav class=md-nav aria-label=Motion> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced class=md-nav__link> <span class=md-ellipsis> Advanced </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#output class=md-nav__link> <span class=md-ellipsis> Output </span> </a> <nav class=md-nav aria-label=Output> <ul class=md-nav__list> <li class=md-nav__item> <a href=#overlays class=md-nav__link> <span class=md-ellipsis> Overlays </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#config-file class=md-nav__link> <span class=md-ellipsis> Config File </span> </a> <nav class=md-nav aria-label="Config File"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#general_1 class=md-nav__link> <span class=md-ellipsis> General </span> </a> </li> <li class=md-nav__item> <a href=#input_1 class=md-nav__link> <span class=md-ellipsis> Input </span> </a> </li> <li class=md-nav__item> <a href=#output_1 class=md-nav__link> <span class=md-ellipsis> Output </span> </a> </li> <li class=md-nav__item> <a href=#motion_1 class=md-nav__link> <span class=md-ellipsis> Motion </span> </a> <nav class=md-nav aria-label=Motion> <ul class=md-nav__list> <li class=md-nav__item> <a href=#advanced_1 class=md-nav__link> <span class=md-ellipsis> Advanced </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#overlays_1 class=md-nav__link> <span class=md-ellipsis> Overlays </span> </a> <nav class=md-nav aria-label=Overlays> <ul class=md-nav__list> <li class=md-nav__item> <a href=#bounding-box-overlays class=md-nav__link> <span class=md-ellipsis> Bounding Box Overlays </span> </a> </li> <li class=md-nav__item> <a href=#text-overlays class=md-nav__link> <span class=md-ellipsis> Text Overlays </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=faq.html class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> </li> <li class=md-nav__item> <a href=changelog.html class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=resources.html class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=documentation><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 0C43 0 0 43 0 96v320c0 53 43 96 96 96h320c17.7 0 32-14.3 32-32s-14.3-32-32-32v-64c17.7 0 32-14.3 32-32V32c0-17.7-14.3-32-32-32H96m0 384h256v64H96c-17.7 0-32-14.3-32-32s14.3-32 32-32m32-240c0-8.8 7.2-16 16-16h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16m16 48h192c8.8 0 16 7.2 16 16s-7.2 16-16 16H144c-8.8 0-16-7.2-16-16s7.2-16 16-16"/></svg></span>Documentation<a class=headerlink href=#documentation title="Permanent link">&para;</a></h1> <h2 id=running-dvr-scan><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg></span>Running DVR-Scan<a class=headerlink href=#running-dvr-scan title="Permanent link">&para;</a></h2> <p>After installation, the <code>dvr-scan</code> command should be available from a terminal or command prompt. Try running <code>dvr-scan --help</code>. The UI can be launched by running <code>dvr-scan-app</code>. See the <a href=guide.html>User Guide</a> for information on how to use the UI.</p> <div class="admonition info"> <p class=admonition-title>For portable versions, replace <code>dvr-scan</code> with the path to <code>dvr-scan.exe</code> in the extracted files on your system. The UI can be launched by running <code>dvr-scan-app.exe</code>.</p> </div> <p>To extract all motion events from a video, you can start with:</p> <pre><code>dvr-scan -i video.mp4
</code></pre> <p>This will produce output events in your working directory starting with the prefix <code>video.DSME_</code> (e.g. <code>video.DSME_0001.avi</code>). If you want to limit scanning to a particular part of the video frame, you can use the <a href=#region-editor>region editor</a>:</p> <pre><code>dvr-scan -i video.mp4 -r
</code></pre> <p>DVR-Scan should provide good results for most use cases, but can be fine tuned for specific use cases. There are two main categories of these settings: <a href=#detection>detection and sensitivity</a>, and <a href=#events>event parameters</a>.</p> <p>Most program options can be set <a href=#config-file>using a config file</a>. DVR-Scan also looks for a <code>dvr-scan.cfg</code> file in the following locations:</p> <ul> <li>Windows: <code>C:/Users/%USERNAME%/AppData/Local/DVR-Scan/dvr-scan.cfg</code></li> <li>Linux: <code>~/.config/DVR-Scan/dvr-scan.cfg</code> or <code>$XDG_CONFIG_HOME/dvr-scan.cfg</code></li> <li>OSX: <code>~/Library/Preferences/DVR-Scan/dvr-scan.cfg</code></li> </ul> <p>These settings will be used by default each time you run DVR-Scan, unless you override them. Selecting the Settings -&gt; Save As User Default option in the UI will overwrite this file.</p> <h3 id=multiple-videos>Multiple Videos<a class=headerlink href=#multiple-videos title="Permanent link">&para;</a></h3> <p>You can specify multiple input videos as long as they have the same resolution and framerate:</p> <pre><code>dvr-scan -i video1.mp4 video2.mp4 video*.mp4
</code></pre> <p>Wildcards are also supported:</p> <pre><code>dvr-scan -i video*.mp4
</code></pre> <p>Note that this will <strong>concatenate</strong> the videos together <em>in the order they are specified</em>.</p> <p>This can be undesirable for some types of footage being analyzed. For example, if a folder contains different dashcam footage clips, a significant amount of time can pass between clips (e.g. when the vehicle is shut off). This can result in DVR-Scan generating false events between videos.</p> <p>To avoid this, you can run DVR-Scan on each video in a loop. For example, on Windows:</p> <pre><code>for /F %i in ('dir *.mp4 /b') do dvr-scan -i %i
</code></pre> <p>Or on Linux/OSX:</p> <pre><code>for f in /mnt/videos/*.mp4
do
    dvr-scan -i $f
done
</code></pre> <p>Note that multiple inputs also do not support other output modes. You can use <code>ffmpeg</code> to <a href=https://trac.ffmpeg.org/wiki/Concatenate>concatenate all input videos</a> before processing, or use a for-loop as above.</p> <h3 id=output-format>Output Format<a class=headerlink href=#output-format title="Permanent link">&para;</a></h3> <p>By default, DVR-Scan uses the OpenCV VideoWriter for video output. This usually requires the output files be in .AVI format of some kind.</p> <p>DVR-Scan also supports using <code>ffmpeg</code> to extract motion events. This is done by setting <code>-m</code>/<code>--output-mode</code> to <code>ffmpeg</code> (reencode) or <code>copy</code> (codec copy mode, may not be frame accurate). For example:</p> <pre><code>dvr-scan -i video.mp4 -m ffmpeg
</code></pre> <p>You can customize the options passed to <code>ffmpeg</code> using a <a href=#config-file>config file</a> (see <a href=#output_1>the <code>ffmpeg-input-args</code> and <code>ffmpeg-output-args</code></a>) settings).</p> <p>Setting output mode to <code>ffmpeg</code> or <code>copy</code> has the following caveats:</p> <ul> <li>inputs that have a variable framerate (VFR) may not be extracted reliably</li> <li>input concatenation is not supported</li> <li>overlays are not supported</li> </ul> <h3 id=vfr-variable-framerate>VFR (Variable Framerate)<a class=headerlink href=#vfr-variable-framerate title="Permanent link">&para;</a></h3> <div class="admonition warning"> <p class=admonition-title>Variable framerate (VFR) video support is still under development and may produce incorrect results.</p> </div> <p>Variable framerate (VFR) videos are <em>not well supported</em>, but basic functionality does work. Motion detection and event extraction should work correctly with default settings. Note however that calculated timestamps may be incorrect, and extracted footage may playback at the wrong speed.</p> <p>Frame numbers will be accurate, but timestamps will not. This can yield incorrect results when setting output mode to <code>ffmpeg</code> or <code>copy</code>, as well as inaccurate timestamps when using overlays. This issue is <a href=https://github.com/Breakthrough/PySceneDetect/issues/168>tracked on Github</a>. If this workflow is required, you can re-encode the source material into fixed framerate before processing.</p> <h2 id=dvr-scan-options><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M9.4 86.6c-12.5-12.5-12.5-32.7 0-45.2s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256zM256 416h288c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32"/></svg></span><code>dvr-scan</code> Options<a class=headerlink href=#dvr-scan-options title="Permanent link">&para;</a></h2> <p>Most options are accessible through the UI, config files, and the command-line interface.</p> <h3 id=general>General<a class=headerlink href=#general title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>-h, --help</pre></b> Show help message and all options and default values. Will also show any options overriden by your <a href=#config-file>user config file</a>, if set.</p> </li> <li> <p><b><pre>-V, --version</pre></b> Show version information.</p> </li> <li> <p><b><pre>-L, --license</pre></b> Show copyright information.</p> </li> </ul> <p>The following options control terminal output:</p> <ul> <li> <p><b><pre>--logfile log.txt</pre></b> File to save (append) log output.</p> </li> <li> <p><b><pre>-q, --quiet</pre></b> Suppress all console output except for final cutting list.</p> </li> <li> <p><b><pre>-v, --verbosity</pre></b> Set verbosity of output messages, must be one of: <b><pre>debug, info, warning, error</pre></b> <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--verbosity info
</code></pre></div> </span></p> </li> </ul> <h3 id=input>Input<a class=headerlink href=#input title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>-i video.mp4, --input video.mp4</pre></b> Path to input video. May specify multiple input videos so long as they have the same resolution and framerate. Wildcards/globs are supported (e.g. <code>-i folder/*.mp4</code>). Extracted motion events use the filename of the first video only as a prefix.</p> </li> <li> <p><b><pre>-c settings.cfg, --config settings.cfg</pre></b> Path to config file. If not set, tries to load one automatically from the user settings folder (run <code>dvr-scan --help</code> to see the exact path for your system). See the <a href=#config-file>config file documentation</a> for what options can be specified.</p> </li> </ul> <h4 id=regions>Regions<a class=headerlink href=#regions title="Permanent link">&para;</a></h4> <p>Detection can be limited to specific regions of the frame. This can be done interactively using the <code>-r/--region-editor</code> flag, or by providing a list (<code>-a/--add-region</code>) or file (<code>-R/--load-region</code>) containing polygon data.</p> <p>Regions are specified as a list of points (X, Y) forming a closed polygon (shape with at least 3 points). For example, a triangle is defined as <code>0 0 100 0 50 50</code>. Multiple regions can be combined, and the result can also be saved to a file using <code>-s/--save-region</code>.</p> <div class="admonition tip"> <p class=admonition-title>Setting a smaller region of interest can improve scanning performance.</p> </div> <ul> <li> <p><b><pre>-r, --region-editor</pre></b> Display region editor before processing. Press <code>H</code> to show controls in your terminal. See <a href=guide.html#region-editor>the user guide</a> for more details. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>dvr-scan -i video.mp4 -r
</code></pre></div> </span></p> </li> <li> <p><b><pre>-a, --add-region</pre></b>Add a region to the scan. Regions are defined by a list of points (min. 3) that enclose the scanning region. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>dvr-scan -i video.mp4 -a 50 50 100 50 75 75
</code></pre></div> </span></p> </li> <li> <p><b><pre>-s, --save-region</pre></b>Save region data for this scan. Include all regions added or loaded via command line, and any edits made with the region editor if launched. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>dvr-scan -i video.mp4 -r -s regions.txt
</code></pre></div> </span></p> </li> <li> <p><b><pre>-R, --load-region</pre></b>Load region data an existing file. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>dvr-scan -i video.mp4 -R regions.txt
</code></pre></div> </span></p> </li> </ul> <h4 id=seekingduration>Seeking/Duration<a class=headerlink href=#seekingduration title="Permanent link">&para;</a></h4> <p>All time values can be given as a timecode (<code>HH:MM:SS</code> or <code>HH:MM:SS.nnn</code>), in seconds as a number followed by <code>s</code> (<code>123s</code> or <code>123.45s</code>), or as number of frames (e.g. <code>1234</code>). <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>dvr-scan -i video.mp4 --start-time 00:35:52 --duration 00:05:00
</code></pre></div> </span></p> <ul> <li> <p><b><pre>-st time, --start-time time</pre></b>Timecode in video to start motion detection from</p> </li> <li> <p><b><pre>-dt time, --duration time</pre></b> Maximum duration of input to process.</p> </li> <li> <p><b><pre>-et time, --end-time time</pre></b> Timecode to stop processing input.</p> </li> </ul> <h4 id=frame-processing>Frame Processing<a class=headerlink href=#frame-processing title="Permanent link">&para;</a></h4> <ul> <li> <p><b><pre>--use-pts</pre></b> Use presentation time instead of frame number for timestamps. May improve timestamp accuracy with videos and network streams that may skip frames.</p> </li> <li> <p><b><pre>-df factor, --downscale-factor factor</pre></b> Integer factor to shrink video before processing, to improve performance. For example, if input video resolution is 1024 x 400, and <code>-df=2</code>, each frame is reduced to 512 x 200 before processing. Uses subsampling for downscaling. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>--downscale-factor 2
</code></pre></div> </span></p> </li> <li> <p><b><pre>-fs num_frames, --frame-skip num_frames</pre></b> Number of frames to skip after processing a given frame. Improves performance, at expense of frame and time accuracy, and may increase probability of missing motion events. If set, <code>-l</code>/<code>--min-event-length</code>, <code>-tb</code>/<code>--time-before-event</code>, and <code>-tp</code>/<code>--time-post-event</code> will all be scaled relative to the source framerate. Values above 1 or 2 are not recommended. <br><br>When using the default output mode (<code>opencv</code>), skipped frames are not included. Set <code>-m</code>/<code>--output-mode</code> to <code>ffmpeg</code> or <code>copy</code> to include all frames from the input video when writing motion events to disk. <br><br>Although adjusted for frame skipping, bounding box smoothing may be inconsistent when using frame skipping. Set <code>-bb 0</code> to disable smoothing. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>--frame-skip 1
</code></pre></div> </span></p> </li> </ul> <div class="admonition warning"> <p class=admonition-title>Using <code>downscale-factor</code> and <code>frame-skip</code> may reduce the accuracy of motion detection if set too high.</p> </div> <h3 id=motion>Motion<a class=headerlink href=#motion title="Permanent link">&para;</a></h3> <p>All time values can be given as a timecode (<code>HH:MM:SS</code> or <code>HH:MM:SS.nnn</code>), in seconds as a number followed by <code>s</code> (<code>123s</code> or <code>123.45s</code>), or as number of frames (e.g. <code>1234</code>). When modifying detection options, it can be useful to generate a motion mask (<code>-mo mask.avi</code>) to visually see how DVR-Scan processes the input.</p> <ul> <li> <p><b><pre>-l time, --min-event-length time</pre></b> Amount of time/frames that must have a motion score above the threshold setting before triggering a new event. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--min-event-length 2
</code></pre></div> </span></p> </li> <li> <p><b><pre>-tb time, --time-before-event time</pre></b> Maximum amount of time to include before each event. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--time-before-event 1.5s
</code></pre></div> </span></p> </li> <li> <p><b><pre>-tp time, --time-post-event time</pre></b> Maximum amount of time to include after each event. The event will end once no motion has been detected for this period of time. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--time-post-event time 2.0s
</code></pre></div> </span></p> </li> <li> <p><b><pre>-t value, --threshold value</pre></b> Minimum amount of motion a frame must have to trigger an event. Lower values are more sensitive to motion, and require less movement to trigger an event. If too high, some movement may not be detected. Setting too low of a threshold can result in false detections. May require adjustment if other motion settings are changed. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--threshold 0.15
</code></pre></div> </span></p> </li> </ul> <h4 id=advanced>Advanced<a class=headerlink href=#advanced title="Permanent link">&para;</a></h4> <ul> <li> <p><b><pre>-b type, --bg-subtractor type</pre></b> The type of background subtractor to use. Must be one of:</p> <ul> <li> <p><b><pre style=display:inline;>MOG2</pre></b> :&nbsp; <a href=https://docs.opencv.org/3.4/d7/d7b/classcv_1_1BackgroundSubtractorMOG2.html>MOG2 Background Subtractor</a></p> </li> <li> <p><b><pre style=display:inline;>CNT</pre></b> :&nbsp; <a href=https://docs.opencv.org/3.4/de/dca/classcv_1_1bgsegm_1_1BackgroundSubtractorCNT.html>CNT Background Subtractor</a>, faster than <code>MOG</code> but uses different method, so may need to adjust threshold/kernel size</p> </li> <li> <p><b><pre style=display:inline;>MOG2_CUDA</pre></b> :&nbsp; <a href=https://docs.opencv.org/3.4/df/d23/classcv_1_1cuda_1_1BackgroundSubtractorMOG2.html>Nvidia CUDAÂ®-based version of MOG2</a>. Requires an OpenCV installation that was compiled with CUDA support.</p> </li> </ul> <p><span class=dvr-scan-default> <div class=highlight><pre><span></span><code>--bg-subtractor MOG2
</code></pre></div> </span></p> </li> <li> <p><b><pre>-k size, --kernel-size size</pre></b> Noise reduction kernel size, in pixels. Kernel size can be increased to filter out smaller movements from a scene. Must be an <em>odd</em> integer at least <code>3</code> or greater. Can also be set to <code>0</code> to disable, or <code>-1</code> to select automatically based on input resolution. Auto sizes are <code>7</code> for 1080p or higher, <code>5</code> for 720p, and <code>3</code> for 480p or lower. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>--kernel-size 5
</code></pre></div> </span></p> </li> </ul> <h3 id=output>Output<a class=headerlink href=#output title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>-so, --scan-only</pre></b> Do not save/extract events, only perform motion detection and display results.</p> </li> <li> <p><b><pre>-d path, --output-dir path</pre></b> Write all output files to <code>path</code>. If not specified, files are written in the working directory.</p> </li> <li> <p><b><pre>-m mode, --output-mode mode</pre></b> Mode to use for saving motion events. Must be one of:</p> <ul> <li> <p><b><pre style=display:inline;>opencv</pre></b> :&nbsp; Use OpenCV for saving motion events. Requires .AVI output format.</p> </li> <li> <p><b><pre style=display:inline;>ffmpeg</pre></b> :&nbsp; Use ffmpeg for saving motion events. Ffmpeg encoder args can be set using a <a href=#config-file>config file</a> (see the <code>ffmpeg-input-args</code> and <code>ffmpeg-output-args</code> options).</p> </li> <li> <p><b><pre style=display:inline;>copy</pre></b> :&nbsp; Same as <code>ffmpeg</code>, but using stream copying mode (no reencoding). Can potentially create inaccurate events due to keyframe placement.</p> </li> </ul> <p><span class=dvr-scan-default> <div class=highlight><pre><span></span><code>-m opencv
</code></pre></div> </span></p> </li> </ul> <div class="admonition warning"> <p class=admonition-title>Multiple input files are not supported when <code>-m</code>/<code>--output-mode</code> is set to <code>ffmpeg</code> or <code>copy</code>. You can use <code>ffmpeg</code> to <a href=https://trac.ffmpeg.org/wiki/Concatenate>concatenate all input videos</a> <em>before</em> using DVR-Scan, or <a href=guide.html#multiple-videos>run DVR-Scan in a for-loop</a>.</p> </div> <ul> <li> <p><b><pre>-o video.avi, --output video.avi</pre></b> Save all motion events to a single file, instead of the default (one file per event). Only supported with the default output mode (<code>opencv</code>). Requires <code>.avi</code> extension.</p> </li> <li> <p><b><pre>-mo mask.avi, --mask-output mask.avi</pre></b> Save a video containing the calculated motion mask on each frame. Useful for tuning motion detection. Requires <code>.avi</code> extension.</p> </li> <li> <p><b><pre>--thumbnails highscore</pre></b> Save a thumbnail of the frame with the highest motion score for each event.</p> </li> </ul> <h4 id=overlays>Overlays<a class=headerlink href=#overlays title="Permanent link">&para;</a></h4> <p><img alt="overlay example" src=https://www.dvr-scan.com/assets/bounding-box.gif></p> <div class="admonition note"> <p class=admonition-title>Overlays are only supported when output mode is set to OpenCV.</p> </div> <ul> <li> <p><b><pre>-bb, --bounding-box</pre></b> Draw a bounding box around the areas where motion is detected. <br>An optional amount of time for temporal smoothing can also be specified (e.g. <code>-bb 0.1s</code>). The default smoothing amount is 0.1 seconds. If set to 0 (<code>-bb 0</code>), smoothing is disabled. <br>The color, thickness, and minimum size can be set with a <a href=#overlays_1>config file</a>.</p> </li> <li> <p><b><pre>-tc, --time-code</pre></b> Draw time code of each frame on the top left corner. <br>Text properties (e.g. color, font size, margin) can be set with a <a href=#overlays_1>config file</a>.</p> </li> <li> <p><b><pre>-fm, --frame-metrics</pre></b> Draw frame metrics, including motion score, on the top right corner. <br>Text properties (e.g. color, font size, margin) can be set with a <a href=#config-file>config file</a>.</p> </li> </ul> <hr> <h2 id=config-file><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.7.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M320 464c8.8 0 16-7.2 16-16V160h-80c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16v384c0 8.8 7.2 16 16 16zM0 64C0 28.7 28.7 0 64 0h165.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64z"/></svg></span>Config File<a class=headerlink href=#config-file title="Permanent link">&para;</a></h2> <p>Settings are specified one per line as <code>option = value</code>. Lines starting with <code>#</code> are ignored as comments. The <a href=https://raw.githubusercontent.com/Breakthrough/DVR-Scan/releases/1.6/dvr-scan.cfg><code>dvr-scan.cfg</code> config template</a> can be saved and used as a starting point (it includes the information in this section as comments).</p> <p>Configuration options are set as <code>option = value</code>, and lines starting with <code>#</code> are ignored as comments. For example:</p> <div class=highlight><pre><span></span><code># This is an example of a DVR-Scan config file.
# Lines starting with # are treated as comments.
time-before-event = 0.5s
time-post-event = 2.0s
bounding-box = yes
bounding-box-color = 0xFF0000
</code></pre></div> <h3 id=general_1>General<a class=headerlink href=#general_1 title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>region-editor</pre></b> Always show region editor window before scanning. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>region-editor = no
</code></pre></div> </span></p> </li> <li> <p><b><pre>quiet-mode</pre></b> Suppress all console output. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>quiet-mode = no
</code></pre></div> </span></p> </li> <li> <p><b><pre>verbosity</pre></b> Verbosity of console output (<code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>). If set to <code>debug</code>, overrides <code>quiet-mode</code> unless set via command line. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>verbosity = info
</code></pre></div> </span></p> </li> </ul> <h3 id=input_1>Input<a class=headerlink href=#input_1 title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>input-mode</pre></b> Which mode to use for decoding frames: (<code>opencv</code>, <code>pyav</code>, <code>moviepy</code>). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>input-mode = opencv
</code></pre></div> </span></p> </li> <li> <p><b><pre>use-pts</pre></b> Use presentation time instead of frame number for timestamps. May improve timestamp accuracy with videos and network streams that may skip frames. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>use-pts = yes
</code></pre></div> </span></p> </li> <li> <p><b><pre>downscale-factor</pre></b> Integer factor to shrink video before processing. Values &lt;= 1 disable downscaling. Leave unset for auto. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>downscale-factor = 2
</code></pre></div> </span></p> </li> <li> <p><b><pre>frame-skip</pre></b> Number of frames to skip between processing when looking for motion events. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>frame-skip = 0
</code></pre></div> </span></p> </li> </ul> <h3 id=output_1>Output<a class=headerlink href=#output_1 title="Permanent link">&para;</a></h3> <ul> <li> <p><b><pre>output-dir</pre></b> Directory to output all created files. If unset, files will be created in the current working directory. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>output-dir = C:/temp/scanned/
</code></pre></div> </span></p> </li> <li> <p><b><pre>output-mode</pre></b> Method of generating output videos: (<code>scan_only</code>, <code>opencv</code>, <code>ffmpeg</code>, <code>copy</code>). Not all features are supported in all modes. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>output-mode = opencv
</code></pre></div> </span></p> </li> </ul> <div class="admonition warning"> <p class=admonition-title>Multiple input files are not supported when <code>-m</code>/<code>--output-mode</code> is set to <code>ffmpeg</code> or <code>copy</code>. You can use <code>ffmpeg</code> to <a href=https://trac.ffmpeg.org/wiki/Concatenate>concatenate all input videos</a> <em>before</em> using DVR-Scan, or <a href=guide.html#multiple-videos>run DVR-Scan in a for-loop</a>.</p> </div> <ul> <li> <p><b><pre>ffmpeg-input-args</pre></b> Arguments added before the input to <code>ffmpeg</code> when <em>output-mode</em> is <em>ffmpeg</em> or <em>copy</em>. Note that <em>-y</em> and <em>-nostdin</em> are always added. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>ffmpeg-input-args = -v error
</code></pre></div> </span></p> </li> <li> <p><b><pre>ffmpeg-output-args</pre></b> Encoder parameters used when generating output files when <em>output-mode</em> is <em>ffmpeg</em>. These arguments are added after the input and duration. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>ffmpeg-output-args = -map 0 -c:v libx264 -preset fast -crf 21 -c:a aac -sn
</code></pre></div> </span></p> </li> <li> <p><b><pre>opencv-codec</pre></b> Four-letter identifier of the encoder/video codec to use when <em>output-mode</em> is <em>opencv</em>. Must be one of: (<code>XVID</code>, <code>MP4V</code>, <code>MP42</code>, <code>H264</code>). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>opencv-codec = XVID
</code></pre></div> </span></p> </li> <li> <p><b><pre>verbosity</pre></b> Verbosity of console output: (<code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>verbosity = info
</code></pre></div> </span></p> </li> <li> <p><b><pre>quiet-mode</pre></b> Suppress all console output: (<code>yes</code> or <code>no</code>). Only a final comma-separated list of timecodes will be printed if set to <code>yes</code>. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>quiet-mode = no
</code></pre></div> </span></p> </li> </ul> <h3 id=motion_1>Motion<a class=headerlink href=#motion_1 title="Permanent link">&para;</a></h3> <p>All time values can be given as a timecode: (<code>HH:MM:SS</code> or <code>HH:MM:SS.nnn</code>), in seconds as a number followed by <code>s</code> (<code>123s</code> or <code>123.45s</code>), or as number of frames: (<code>1234</code>).</p> <ul> <li> <p><b><pre>min-event-length</pre></b> Amount of time which must have motion in each frame to trigger an event. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>min-event-length = 2
</code></pre></div> </span></p> </li> <li> <p><b><pre>time-before-event</pre></b> Amount of time to include before a motion event. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>time-before-event = 1.5s
</code></pre></div> </span></p> </li> <li> <p><b><pre>time-post-event</pre></b> Amount of time to include after an event. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>time-post-event = 2.0s
</code></pre></div> </span></p> </li> <li> <p><b><pre>threshold</pre></b> Threshold representing amount of motion in a frame (or the ROI, if set) for a motion event to be triggered. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>threshold = 0.15
</code></pre></div> </span></p> </li> </ul> <h4 id=advanced_1>Advanced<a class=headerlink href=#advanced_1 title="Permanent link">&para;</a></h4> <ul> <li> <p><b><pre>bg-subtractor</pre></b> Type of background subtraction to use: (<code>MOG2</code>, <code>CNT</code>, <code>MOG2_CUDA</code>). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>bg-subtractor = MOG2
</code></pre></div> </span></p> </li> <li> <p><b><pre>max-threshold</pre></b> Scores of this amount or higher are ignored. 255.0 is the maximum score, so values greater than 255.0 will disable the filter. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>max-threshold = 255.0
</code></pre></div> </span></p> </li> <li> <p><b><pre>variance-threshold</pre></b> Threshold on the distance between the pixel and the model to decide whether a pixel is well described by the background model. This parameter does not affect the background update.<br> The threshold is not used by the CNT subtractor. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>variance-threshold = 16
</code></pre></div> </span></p> </li> <li> <p><b><pre>kernel-size</pre></b> Size (in pixels) of the noise reduction kernel. Size must be an odd number starting from 3, 0 to disable, or -1 to auto-set based on video resolution. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>kernel-size = -1
</code></pre></div> </span></p> </li> <li> <p><b><pre>learning-rate</pre></b> The value between 0 and 1 that indicates how fast the background model is learnt. Negative parameter value makes the algorithm to use some automatically chosen learning rate. 0 means that the background model is not updated at all, 1 means that the background model is completely reinitialized from the last frame. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>learning-rate = -1
</code></pre></div> </span></p> </li> </ul> <h3 id=overlays_1>Overlays<a class=headerlink href=#overlays_1 title="Permanent link">&para;</a></h3> <p>Color values can be specified as either <code>(R,G,B)</code> or in hex as <code>0xFFFFFF</code>. Time values can be given in seconds as a number followed by <code>s</code> (<code>123s</code> or <code>123.45s</code>), or as number of frames (e.g. <code>1234</code>).</p> <h4 id=bounding-box-overlays>Bounding Box Overlays<a class=headerlink href=#bounding-box-overlays title="Permanent link">&para;</a></h4> <ul> <li> <p><pre>bounding-box</pre></b> Enable bounding box: (<code>yes</code> or <code>no</code>). <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>bounding-box = yes
</code></pre></div> </span></p> </li> <li> <p><b><pre>bounding-box-color</pre></b> Box edge color specified as <code>R, G, B</code>. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>bounding-box-color = 255, 0, 0
</code></pre></div> </span></p> </li> <li> <p><b><pre>bounding-box-thickness</pre></b> Thickness of bounding box, relative to largest edge of input video. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>bounding-box-thickness = 0.0032
</code></pre></div> </span></p> </li> <li> <p><b><pre>bounding-box-smooth-time</pre></b> Amount of temporal smoothing to apply (seconds or frames). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>bounding-box-smooth-time = 0.1s
</code></pre></div> </span></p> </li> <li> <p><b><pre>bounding-box-min-size</pre></b> Minimum side length of bounding box, relative to largest edge of input video. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>bounding-box-min-size = 0.032
</code></pre></div> </span></p> </li> </ul> <h4 id=text-overlays>Text Overlays<a class=headerlink href=#text-overlays title="Permanent link">&para;</a></h4> <ul> <li> <p><b><pre>time-code</pre></b> Enable timecode overlay: (<code>yes</code> or <code>no</code>). Draws timecode on top left of each frame. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>time-code = yes
</code></pre></div> </span></p> </li> <li> <p><b><pre>frame-metrics</pre></b> Enable frame metrics overlay: (<code>yes</code> or <code>no</code>). Draws frame metrics, including motion score, on top right of each frame. <span class=dvr-scan-example> <div class=highlight><pre><span></span><code>frame-metrics = yes
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-border</pre></b> Margin from edge in pixels. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-margin = 5
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-margin</pre></b> Margin from edge in pixels. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-margin = 5
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-font-scale</pre></b> Scale factor for text size. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-font-scale = 2.0
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-font-thickness</pre></b> Thickness of font (integer values only). <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-font-thickness = 2
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-font-color</pre></b> Text color specified as <code>R, G, B</code>. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-font-color = 255, 255, 255
</code></pre></div> </span></p> </li> <li> <p><b><pre>text-bg-color</pre></b> Background color specified as <code>R, G, B</code>. <span class=dvr-scan-default> <div class=highlight><pre><span></span><code>text-bg-color = 0, 0, 0
</code></pre></div> </span></p> </li> </ul> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2016 Brandon Castellano. All rights reserved.<br><a href=https://github.com/Breakthrough/DVR-Scan/blob/main/LICENSE alt="link to LICENSE on Github">Licensed under BSD 2-Clause license. </div> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["navigation.tabs", "navigation.sections", "navigation.tabs.sticky", "toc.follow", "toc.integrate", "content.code.copy"], "search": "assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=assets/javascripts/bundle.88dd0f4e.min.js></script> </body> </html>